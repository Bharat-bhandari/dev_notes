# Create a node app

#### Initialize an empty ts project

```sh
npm init -y
npx tsc --init
```

#### change the rootDir and outDir in tsconfig.json

```sh
"rootDir": "./src",
"outDir": "./dist"
```

#### common packages

```sh
npm i nodemon express dotenv rimraf cors
npm i -D @types/express @types/cors
```

#### add scripts to package.json

> "scripts": {
> "build": "rimraf dist && npx tsc",
> "prestart": "npm run build",
> "start": "node dist/index.js",
> "predev": "npm run build",
> "dev": "tsc -w & nodemon dist/index.js"
> }

#### make a .env and .gitignore file

#### Initialize prisma and add dependencies

```sh
npm i -D prisma
npx prisma init
```

## Prisma migrate commands

```sh
npx prisma migrate deploy
npx prisma migrate dev --name your_migration_name
```

## Generating the prisma client (autogenerated clients)

```sh
npm install @prisma/client
```

- prisma client will create javascript classes/clients of tables/models from schema.prisma so index.ts file can us them .(user.find, user.update)
- It will expose User class Todo class, that we can use on index.file - under the hood these classes convert and create sql queries.

## Command to generate these clients

```sh
npx prisma generate
```

## After doing some changes in schema run this commands

```sh
npx prisma migrate dev
npx prisma generate
```

```sh
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();
```

## AccessToken/secret Token generate key commands

```sh
openssl rand -base64 32
```

## Pm2 run command

```sh
pm2 start npm --name "name_" -- run dev
```
